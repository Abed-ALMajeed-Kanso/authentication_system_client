(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[194],{7108:function(e,t,r){Promise.resolve().then(r.bind(r,8671))},8671:function(e,t,r){"use strict";r.r(t);var a=r(1844),s=r(5784),o=r(9332),l=r(9538),n=r(1597),i=r(7097),c=r(3678);let u=()=>{let{user:e,isLoading:t,setUser:r}=(0,l.a)(),u=(0,o.useRouter)(),d=async()=>{let e=await (0,c.kS)(r);e.success?u.push("/"):console.error(e.message)};return((0,s.useEffect)(()=>{t||e||u.push("/")},[t,e,u]),e)?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen bg-gradient-to-br from-cyan-300 to-sky-600 gap-6 px-4",children:[(0,a.jsxs)("div",{className:"px-7 py-6 shadow bg-white rounded-md flex flex-col gap-4 w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Profile"}),(0,a.jsx)(i.Z,{labelText:"First Name",name:"firstName",value:e.firstName,disabled:!0}),(0,a.jsx)(i.Z,{labelText:"Last Name",name:"lastName",value:e.lastName,disabled:!0}),(0,a.jsx)(i.Z,{labelText:"Email",name:"email",value:e.email,disabled:!0}),(0,a.jsx)(i.Z,{labelText:"Phone Number",name:"phoneNumber",value:e.phoneNumber,disabled:!0}),(0,a.jsx)(i.Z,{labelText:"Address",name:"address",value:e.address,disabled:!0})]}),(0,a.jsx)(n.Z,{type:"button",onClick:d,className:"w-full max-w-md",children:"Logout"})]}):null};t.default=u},9538:function(e,t,r){"use strict";r.d(t,{a:function(){return n},d:function(){return l}});var a=r(1844),s=r(5784);let o=(0,s.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,s.useState)(null),[n,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{try{let e=localStorage.getItem("user");e&&l(JSON.parse(e))}catch(t){console.error("Failed to parse user data from localStorage",t),localStorage.removeItem("user")}finally{i(!1)}},[]),(0,s.useEffect)(()=>{try{r?localStorage.setItem("user",JSON.stringify(r)):localStorage.removeItem("user")}catch(e){console.error("Failed to save user data to localStorage",e)}},[r]),(0,a.jsx)(o.Provider,{value:{user:r,setUser:l,isLoading:n},children:t})},n=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useUser must be used within a UserProvider");return e}},3678:function(e,t,r){"use strict";r.d(t,{wt:function(){return i},x4:function(){return o},kS:function(){return n}});var a=r(7066);let s=a.Z.create({baseURL:"https://authentication-system-e8yz.onrender.com",withCredentials:!0}),o=async(e,t,r)=>{try{let a=await s.post("/login",{email:e,password:t});if(200!==a.status)return{success:!1,message:"Invalid credentials"};{let o=await l();return o&&r(o),{success:!0,data:a.data}}}catch(c){var n,i;return{success:!1,message:(null==c?void 0:null===(n=c.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.message)||"Login failed. Please try again."}}},l=async()=>{try{let e=await s.get("/authenticated/profile");if(200===e.status)return e.data;throw Error("Failed to fetch profile data")}catch(t){throw console.error("Error fetching profile:",t),Error("Failed to fetch profile data")}},n=async e=>{try{let t=await s.post("/authenticated/logout");if(200===t.status)return e(null),{success:!0,message:t.data.message};return{success:!1,message:"Logout failed"}}catch(o){var r,a;return{success:!1,message:(null==o?void 0:null===(r=o.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Logout failed. Please try again."}}},i=async()=>{try{let e=await s.get("/check-auth");if(200===e.status&&e.data.user)return{authenticated:!0,user:e.data.user};return{authenticated:!1}}catch(t){return console.error("Error checking auth:",t),{authenticated:!1}}}},1597:function(e,t,r){"use strict";var a=r(1844);let s=e=>{let{className:t,children:r,variant:s,square:o,paddingLess:l,type:n="button",...i}=e;return(0,a.jsx)("button",{...i,type:n,className:"\n \n        ".concat((()=>{switch(s){case"primary":return"bg-violet-500 hover:bg-violet-700 text-white";case"danger":return"bg-red-500 hover:bg-red-700 text-white ";case"success":return"bg-green-500 hover:bg-green-700 text-white ";case"warning":return"bg-amber-500 hover:bg-amber-700 text-white ";case"outline-danger":case"outline-danger":return"bg-white text-red-500 border border-red-500 hover:text-white hover:bg-red-700  ";case"outline-success":return"bg-white text-green-500 border border-green-500 hover:text-white hover:bg-green-700  ";case"outline-warning":return"bg-white text-amber-400 border border-amber-500 hover:text-white hover:bg-amber-500  ";case"outline-primary":return"bg-white text-violet-500 border border-violet-500 hover:text-white hover:bg-violet-700  ";default:return"bg-violet-500 hover:bg-violet-700 hover:bg-gra text-white shadow shadow-violet-600/25 hover:shadow-violet-600/75"}})(),"  transition duration-500  ").concat(!l&&"py-2 px-4","  ").concat(!o&&"rounded-md"," active:scale-95 ").concat(t," "),children:r})};t.Z=s},7097:function(e,t,r){"use strict";var a=r(1844),s=r(5784);let o=s.forwardRef((e,t)=>{let{className:r,children:s,labelText:o,type:l="text",error:n,...i}=e;return(0,a.jsxs)("div",{className:r+" relative",children:[o&&(0,a.jsx)("label",{className:"block text-gray-600 mb-2 text-xs lg:text-sm xl:text-base",htmlFor:"txt",children:o}),(0,a.jsxs)("div",{className:"flex items-stretch",children:[(0,a.jsx)("input",{id:"txt",autoComplete:"off",type:l,ref:t,...i,className:"border border-slate-400 w-full block outline-none py-2 pl-4 pr-2 transition-all text-xs lg:text-sm xl:text-base bg-slate-50 focus:shadow focus:shadow-blue-500\n              disabled:border-gray-400 disabled:bg-gray-100 disabled:text-gray-600\n              ".concat(n?"border-red-500 animate-shake":"","\n              ").concat(s?"rounded-r-md":"rounded-md")}),s&&(0,a.jsx)("div",{className:"flex",children:s})]}),n&&(0,a.jsx)("p",{className:"text-red-600 text-right text-xs mt-1 animate-shake",children:n})]})});o.displayName="TextBox",t.Z=o}},function(e){e.O(0,[403,17,744],function(){return e(e.s=7108)}),_N_E=e.O()}]);